
# Numpy 库

## Numpy库入门

### 数据的维度

* 一维数据

一维数据由对等关系的有序或者无序数据构成，采用线性方式组织。对应于**列表**、**数组**和**集合**等概念。

    列表：数据类型可以不同。比如 3.1413, 'pi',[3.1401, 3.1349], '3.1376'

    数组：数据类型相同。比如 3.1413, 3.1410, 3.15

    Python表示：列表和集合类型。比如 [3.13, 3.14] {3.13, 3.14}

* 二维数据

二维数据由多个一位数据构成，是一维数据的组合形式。

    表格是典型的二位数据。其中，表头是二维数据的一部分。

    Python表示：列表类型。比如 [[3.13, 3.14], [3.13, 3.14]]

* 多维数据

多维数据由一维或者二维数据在新维度上扩展形成。

    比如表格基于时间的跨度，从而构成了多维数据。

    Python表示：列表类型。比如 [[3.13, 3.14], [3.13, 3.14]]

* 高维数据

高维数据仅利用最基本的二元关系展示数据间的复杂结构。

`
{
 "firstName":"Josn",
 "lastName":"Tang",
 "address":{
              "stressAddr":"",
              "City":"",
              "zipcode":""
            } 
}
`

    Python表示：字典类型或数据表示格式（json/XML/YAML）。

### Numpy数组对象: ndarray

#### Numpy 介绍

Numpy 是一个开源的Python科学计算基础库

* 一个强大的N维数组对象ndarry
* 广播功能函数：用于数组间计算
* 整合C/C++/Fortran代码的工具
* 线性代数、傅里叶变换、随机数生成等功能

Numpy 是SciPy, Pandas等库的基础

#### Numpy示例

计算$A^2 + B^3$,其中，A和B是一维数组


```python
def pySum():
    a = [0,1,2,3,4]
    b = [9,8,7,6,5]
    c = []
    
    for i in range(len(a)):
        c.append(a[i]**2 + b[i]**3)
        
    return c

print(pySum())
```

    [729, 513, 347, 225, 141]



```python
import numpy as np
def npSum():
    a = np.array([0,1,2,3,4])
    b = np.array([9,8,7,6,5])
    c = a**2 + b**3
    return c

print(npSum())
```

    [729 513 347 225 141]


* 数组对象可以去掉元素间运算所需的循环，使一维向量更像单个数据
* 设置专门数组对象可提升运算速度（底层实现用C完成）
* 科学计算中，一个维度的数据类型往往相同
* 采用数组对象，采用相同数据类型利于节省内存空间

#### ndarray内部结构

ndarray是一个多位数组对象，由两部分构成：

    * 实际数据

    * 描述数据的元数据（维度、类型）

ndarray数组一般要求所有元素类型相同（同质）， 数组下标从0开始

轴（axis）:保存数据的维度

秩（rank）:轴的数量

### ndarray对象的属性

属性 | 说明
:---: | :---:
.ndim | 秩，即维度的数量
.shape | 尺度，对于矩阵，n行m列
.size | 元素个数，相当于.shape中 n * m 的值
.dtype | 元素类型
.itemsize | 每个元素的大小，以字节为单位


```python
a = np.array([[0,1,2,3,4],[9,8,7,6,5]])
a.ndim
```




    2




```python
a.shape
```




    (2, 5)




```python
a.size
```




    10




```python
a.dtype
```




    dtype('int64')




```python
a.itemsize
```




    8



### ndarray元素类型

数据类型 | 说明
:---: | :---------:
bool | 1/0
intc | 与C中的int一致，int32或int64
intp | 用于索引的整数，与C中ssize_t一致，int32或int64
int8 | 字节长度的整数，\[-128, 127\]
int16 | 16位整数
int32 | 32位整数
int64 | 64位整数
uint8 | 8位无符号整数，\[0, 255\]
uint16 | 16位无符号整数
uint32 | 32位无符号整数
uint64 | 64位无符号整数
float16 | 16位半精度浮点数
float32 | 32位半精度浮点数
float64 | 64位半精度浮点数
complex64 | 复数类型，实部虚部都是32位浮点数(.real+.imag)
complex128 | 复数类型，实部虚部都是64位浮点数

Python仅支持整数，浮点数和复数三种
